<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Gemini Generated Muse Portfolio</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />

  <!-- perf hints -->
  <link rel="preconnect" href="https://drive.google.com">
  <link rel="preconnect" href="https://lh3.googleusercontent.com">
  <link rel="dns-prefetch" href="//drive.google.com">
  <link rel="dns-prefetch" href="//lh3.googleusercontent.com">

  <style>
    :root { --maxw: 1600px; --gap: 0; --accent:#111; }
    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body { margin:0; background:#fff; color:#111; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }

    /* Header & controls */
    header.site-header { position: sticky; top: 0; z-index: 30; background:#fff; border-bottom:1px solid #eee; }
    .header-inner { max-width: var(--maxw); margin:0 auto; padding: 12px 12px; display:grid; grid-template-columns: 1fr auto; gap:10px; align-items:center; }
    .site-title { margin:0; font-size:18px; font-weight:700; letter-spacing:.2px; }
    .controls { display:flex; flex-wrap:wrap; gap:8px; align-items:center; }
    .seg { display:inline-flex; border:1px solid #ddd; border-radius:10px; overflow:hidden; }
    .seg button { padding:8px 10px; background:#fafafa; border:0; cursor:pointer; }
    .seg button.active { background:#111; color:#fff; }
    .btn { padding:8px 12px; border:1px solid #ddd; background:#fafafa; border-radius:8px; cursor:pointer; }
    .btn:hover { background:#f2f2f2; }
    input[type="search"]{ padding:8px 10px; border:1px solid #ddd; border-radius:8px; min-width:200px; }
    .range { display:flex; gap:8px; align-items:center; }
    .range input { width:140px; }

    /* Page wrap */
    .wrap { max-width: var(--maxw); margin:0 auto; padding: 14px 10px 60px; }
    .status { text-align:center; color:#666; padding:12px; }

    /* Masonry (seamless, no-crop) */
    .masonry { column-gap: var(--gap); line-height:0; }
    figure.item { margin:0; padding:0; line-height:0; break-inside:avoid; -webkit-column-break-inside:avoid; opacity:0; transform:translateY(8px); transition:opacity .25s ease, transform .25s ease; }
    figure.item.reveal { opacity:1; transform:none; }
    .item a { display:block; text-decoration:none; color:inherit; }
    .item img { display:block; width:100%; height:auto; border:0; margin:0; }

    /* Column counts (small tiles for density; tweak to taste) */
    @media (min-width: 360px){ .masonry { column-count: 6; } }
    @media (min-width: 640px){ .masonry { column-count: 9; } }
    @media (min-width: 900px){ .masonry { column-count: 12; } }
    @media (min-width:1200px){ .masonry { column-count: 15; } }

    /* River (auto-scrolling rows) */
    .rivers { display:flex; flex-direction:column; gap:0; }
    .lane { --lane-h: 160px; --dur: 80s; height: var(--lane-h); overflow:hidden; line-height:0; position:relative; user-select:none; }
    .lane .track { display:flex; width:max-content; height:100%; animation: marqueeL var(--dur) linear infinite; will-change: transform; }
    .lane.rev .track { animation-name: marqueeR; }
    .lane .content { display:flex; height:100%; }
    .lane a { display:block; height:100%; }
    .lane img { display:block; height:100%; width:auto; border:0; }

    @keyframes marqueeL { from { transform: translateX(0); } to { transform: translateX(-50%); } }
    @keyframes marqueeR { from { transform: translateX(-50%); } to { transform: translateX(0); } }
    .lane:hover .track { animation-play-state: paused; } /* pause on hover */

    /* Slideshow (full-viewport) */
    .slideshow { position:relative; min-height: calc(100vh - 120px); display:grid; place-items:center; }
    .slide-img { max-width: 100%; max-height: calc(100vh - 180px); object-fit: contain; }
    .ss-controls { position:absolute; bottom:14px; left:50%; transform:translateX(-50%); display:flex; gap:8px; }
    .ss-btn { padding:8px 12px; border:1px solid #ddd; background:#fff; border-radius:8px; cursor:pointer; }
    .ss-btn:hover { background:#f7f7f7; }
    .caption { position:absolute; top:8px; left:50%; transform:translateX(-50%); color:#444; font-size:14px; background:rgba(255,255,255,.7); padding:6px 10px; border-radius:10px; }

    /* Utilities */
    .hidden { display:none !important; }
    .to-top { position:fixed; right:14px; bottom:14px; z-index:40; background:#fff; color:var(--accent); border:1px solid #ddd; border-radius:999px; padding:8px 12px; font-weight:600; cursor:pointer; box-shadow:0 6px 16px rgba(0,0,0,.05); }
  </style>
</head>
<body>
  <header class="site-header">
    <div class="header-inner">
      <h1 class="site-title">Gemini Generated Muse Portfolio</h1>
      <div class="controls">
        <div class="seg" role="tablist" aria-label="View mode">
          <button id="masonryMode" class="active" role="tab">Masonry</button>
          <button id="riverMode" role="tab">River</button>
          <button id="slideshowMode" role="tab">Slideshow</button>
        </div>
        <input id="q" type="search" placeholder="Search…" aria-label="Search images">
        <button id="shuffle" class="btn" type="button">Shuffle</button>

        <!-- River-only controls -->
        <div id="riverCtrls" class="range hidden">
          <label for="size">Size</label><input id="size" type="range" min="0.8" max="1.6" step="0.05" value="1.20">
          <label for="speed">Speed</label><input id="speed" type="range" min="40" max="120" step="5" value="80">
        </div>
      </div>
    </div>
  </header>

  <main class="wrap">
    <div id="status" class="status">Loading images…</div>
    <div id="stage"></div>
  </main>

  <button id="toTop" class="to-top" type="button" title="Back to top">Top</button>

  <!-- bump v= when you edit JS to bust cache -->
  <script src="script.js?v=ui-modes1"></script>
</body>
</html>
